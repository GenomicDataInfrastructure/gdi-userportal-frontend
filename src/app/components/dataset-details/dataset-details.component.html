<div class="flex flex-col lg:flex-row w-full p-10" *ngIf="isNotEmtpy()">
  <div class="flex flex-col w-full lg:w-2/3 gap-5 p-5">
    <h2 class="text-2xl">{{ datasetDetails['title'].value }}</h2>
    <p>
      {{ datasetDetails['notes']!.value }}
    </p>
    <h3>Themes</h3>
    <div class="flex flex-row flex-wrap gap-3">
      <mat-chip *ngFor="let theme of getThemes()">{{theme}}</mat-chip>
    </div>
    <h3>Keywords</h3>
    <div class="flex flex-row flex-wrap gap-3">
      <mat-chip *ngFor="let keyword of getKeywords()">{{keyword.name}}</mat-chip>
    </div>
    <h3>Distributions</h3>
    <mat-accordion multi="true">
      <mat-expansion-panel *ngFor="let distribution of getDistributions()">
        <mat-expansion-panel-header>
          <div class="fa fa-file-o"></div>
          <span class="flex flex-row justify-between w-full">
            <span>{{ distribution.name }}</span>
            <mat-chip highlighted color="primary">
              <fa-icon [icon]="faFile"></fa-icon>
              <span class="ml-2">{{ distribution.format }}</span>
            </mat-chip>
          </span>
        </mat-expansion-panel-header>
        <div class="flex flex-col p-3 bg-gray-100">
          <div class="flex flex-row flex-wrap">
            <div class="w-full" *ngIf="distribution.description">
              <h4>Description:</h4>
              <p>{{ distribution.description }}</p>
            </div>
            <div class="w-full">
              <h4>URL:</h4>
              <p><a href="{{ distribution.url }}" target="_blank">{{ distribution.url }}</a></p>
            </div>
            <div class="w-full lg:w-1/2">
              <h4>Issued:</h4>
              <p>{{ getFormattedDate(distribution.issued) }}</p>
            </div>
            <div class="w-full lg:w-1/2">
              <h4>Modified:</h4>
              <p>{{ getFormattedDate(distribution.modified) }}</p>
            </div>
            <div class="w-full" *ngIf="distribution.access_url">
              <h4>Access URL:</h4>
              <p><a href="{{ distribution.access_url }}" target="_blank">{{ distribution.access_url }}</a></p>
            </div>
            <div class="w-full" *ngIf="distribution.download_url">
              <h4>Download URL:</h4>
              <p><a href="{{ distribution.download_url }}" target="_blank">{{ distribution.download_url }}</a></p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.access_services">
              <h4>Access Services:</h4>
              <p>{{ distribution.access_services }}</p>
            </div>
            <div class="w-fll lg:w-1/2" *ngIf="distribution.compress_format">
              <h4>Compress Format:</h4>
              <p>{{ distribution.compress_format }}</p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.availability">
              <h4>Availability:</h4>
              <p>{{ distribution.availability }}</p>
            </div>
            <div class="w-fll lg:w-1/2" *ngIf="distribution.language">
              <h4>Language:</h4>
              <p>{{ distribution.language }}</p>
            </div>
            <div class="w-full lg:w-1/2">
              <h4>Rights:</h4>
              <p>{{ distribution.rights }}</p>
            </div>
            <div class="w-full lg:w-1/2">
              <h4>State:</h4>
              <p>{{ distribution.state }}</p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.temporal_resolution">
              <h4>Temporal Resolution:</h4>
              <p>{{ distribution.temporal_resolution }}</p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.spatial_resolution_in_meters">
              <h4>Spatial Resolution (meters):</h4>
              <p>{{ distribution.spatial_resolution_in_meters }}</p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.cache_url">
              <h4>Cache Url:</h4>
              <p><a href="{{ distribution.cache_url }}" target="_blank">{{ distribution.cache_url }}</a></p>
            </div>
            <div class="w-full lg:w-1/2" *ngIf="distribution.cache_last_updated">
              <h4>Cache Last Updated:</h4>
              <p>{{ getFormattedDate(distribution.cache_last_updated) }}</p>
            </div>
            <div class="w-full">
              <h4>Documentation:</h4>
              <p>{{ distribution.documentation }}</p>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div class="flex flex-col gap-3 p-5 bg-[#F5F5F5] w-full lg:w-1/3">
    <div *ngFor="let key of sorted_details">
      <div *ngIf="!!datasetDetails[key]?.visible && !!datasetDetails[key]?.value" class="flex flex-col">
        <h3 class="mr-5 grow">{{ getLabel(datasetDetails[key]) }}</h3>
        <span>{{ getFormattedDate(datasetDetails[key].value) }}</span>
      </div>
    </div>
  </div>
</div>
